{"version":3,"sources":["components/game_objects/ship/ship.tsx","components/game_objects/bullet/bullet.tsx","utils/logic/game_logic.ts","utils/logic/canvas_management.ts","components/game_objects/shield/shield.tsx","components/animations/transition.tsx","components/game_objects/game_board/game_board.tsx","components/styled_components/menu_styled_components.tsx","components/pages/menu/menu.tsx","components/pages/score/score.tsx","components/routes/routes.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Ship","color","posX","posY","size","type","health","speed","points","dir","ctx","this","_drawPlayerShip","_drawEnemyShip","baseH","bodyH","bodyW","clawH","beginPath","rect","fillStyle","fill","closePath","canonH","Bullet","vel","dmg","GL","bullets","playgroundHeight","filter","b","enemies","count","e","length","i","player","enemy","v","index","find","collX","shields","some","s","_shieldLayout","r","x0","x1","collY","y11","y12","y21","y22","x11","x12","x21","x22","CM","playgroundWidth","clearRect","ships","forEach","drawShip","draw","drawShield","Shield","parts","x","y","width","height","buildShieldLayout","calculateLayout","extrudeBoxes","n","sqrt","Math","Number","isInteger","isInt","sqrt2","n2","parseInt","box1","floor","y0","y1","box2","box3","push","h","li","li1","undefined","c","bullet","findIndex","block","el","slice","splice","fadeIn","keyframes","StyledWrapper","styled","div","Wrapper","children","GameBoard","props","enemyGen","isMovinRight","isMovinLeft","isShooting","generatorRunning","enemiesShot","BULLET_SPEED","BULLET_DMG","ENEMY_HP","ENEMY_SPEED","PLAYER_SPEED","VERTICAL_OFFSET","ENEMY_SHOT_INTERVAL","ENEMY_SPEED_BOOST_INTERVAL","LIMIT_OF_ENEMY_SHIPS_ON_SCREEN","PLAYER_SIZE","btfld","nextShotIn","nextEnemyShotIn","nextSpeedBoostIn","frameRate","shotTimeOut","state","hit","wave","enemyLimit","maxScore","score","playerLives","hasLost","loopId","shieldsDeployed","window","innerHeight","innerWidth","game_settings","document","getElementById","getContext","handleKeyDown","bind","handleKeyUp","handleAccelerometer","handleTapDown","handleTapUp","initalizeVars","addEventListener","scale","initGame","initialXPos","initialYPos","Array","maxShieldWidth","spacing","posx","setState","buildShip","ev","key","innerHTML","accelerationIncludingGravity","z","prep","setTimeout","next","done","setInterval","clean","generateBullets","moveEls","ex","value","clearInterval","nextPos","every","ship","shootShields","includes","shipI","isAbleToShoot","maxTravel","checkBulletCollision","cenemiesRes","cleanEnemies","cleanBullets","checkCollision","d","Object","assign","fatherx","fathery","isEnemy","last_gen_enemy","gen","limit","enemiesPerRow","posYNewRow","xoffset","posXNewShip","j","hs","localStorage","getItem","nhs","setItem","toString","recordScore","to","style","position","className","id","React","Component","MenuScreen","MenuItemList","MenuItem","MenuItemContent","Title","SubTitle","Menu","redirectTo","path","onClick","Score","ms","console","log","Routes","exact","component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a3842b82.chunk.js","sourcesContent":["\r\nexport class Ship {\r\n\r\n    constructor(\r\n        public color: any | undefined = '',\r\n        public posX: number = 0,\r\n        public posY: number = 0,\r\n        public size: number = 0,\r\n        public type: string = '', // player or enemy\r\n        public health: number = 0,\r\n        public speed: number = 0,\r\n        public points: number = 0,\r\n        public dir?: string,\r\n    ) {\r\n\r\n    }\r\n\r\n    drawShip(ctx: CanvasRenderingContext2D) {\r\n        switch (this.type) {\r\n            case 'player': return this._drawPlayerShip(ctx);\r\n            case 'enemy': return this._drawEnemyShip(ctx);\r\n            default: return ctx;\r\n        }\r\n    }\r\n\r\n    private _drawEnemyShip(ctx: CanvasRenderingContext2D) {\r\n        const baseH = this.size / 3;  // lower end of the ship\r\n        const bodyH = this.size / 3;  // middle part\r\n        const bodyW = this.size / 2;  // middle part\r\n        const clawH = this.size / 4;  // claws or front part\r\n        ctx.beginPath();\r\n        ctx.rect(this.posX, this.posY, this.size, baseH);\r\n        ctx.rect(this.posX + this.size / 2 - bodyW / 2, this.posY + baseH, bodyW, bodyH);\r\n        ctx.rect(this.posX, this.posY + baseH + bodyH, clawH, clawH);\r\n        ctx.rect(this.posX + this.size - clawH, this.posY + baseH + bodyH, clawH, clawH);\r\n        ctx.fillStyle = this.color;\r\n        ctx.fill();\r\n        ctx.closePath();\r\n        return ctx;\r\n    }\r\n\r\n    private _drawPlayerShip(ctx: CanvasRenderingContext2D) {\r\n        const baseH = this.size / 3;// lower end of the ship\r\n        const canonH = this.size / 3; // middle part\r\n        ctx.beginPath();\r\n        ctx.rect(this.posX + this.size / 2 - this.size / 8, this.posY, this.size / 4, canonH); // draw cannon\r\n        ctx.rect(this.posX, this.posY + canonH, this.size, baseH);\r\n        ctx.fillStyle = this.color;\r\n        ctx.fill();\r\n        ctx.closePath();\r\n        return ctx;\r\n    }\r\n}\r\n","export class Bullet {\r\n    constructor(\r\n        public color: string = '',\r\n        public dir: string = 'up',\r\n        public vel: number = 0,\r\n        public posX: number = 0,\r\n        public posY: number = 0,\r\n        public size: number = 0,\r\n        public dmg: number = 0\r\n    ) { }\r\n\r\n    draw(ctx: CanvasRenderingContext2D){\r\n        ctx.beginPath()\r\n        ctx.rect(this.posX, this.posY, this.size, this.size)\r\n        ctx.fillStyle = this.color\r\n        ctx.fill()\r\n        ctx.closePath()\r\n    }\r\n}","import { Bullet } from \"../../components/game_objects/bullet/bullet\"\r\nimport { Shield } from \"../../components/game_objects/shield/shield\"\r\nimport { Ship } from \"../../components/game_objects/ship/ship\"\r\n\r\n/**\r\n * Game Logic class container\r\n */\r\nexport class GL {\r\n    /**\r\n     * Checks collission on the Y axis between a target and a \"moving\" element\r\n     * @param y11 target element original Y coordinate\r\n     * @param y12 target element original Y coordinate plus the element's size (height)\r\n     * @param y21 moving element original Y coordinate\r\n     * @param y22 moving element original Y coordinate plus the element's size (height)\r\n     * @returns \r\n     */\r\n    static collY = (y11: number, y12: number, y21: number, y22: number) =>\r\n        (y21 >= y11 && y21 <= y12) || (y22 >= y11 && y22 <= y12)\r\n\r\n    /**\r\n     * Checks collission on the X axis between a target and a \"moving\" element\r\n     * @param x11 target element original X coordinate\r\n     * @param x12 target element original X coordinate plus the element's size (width)\r\n     * @param x21 moving element original X coordinate\r\n     * @param x22 moving element original X coordinate plus the element's size (width)\r\n     * @returns \r\n     */\r\n    static collX = (x11: number, x12: number, x21: number, x22: number) =>\r\n        (x21 >= x11 && x21 <= x12) || (x22 >= x11 && x22 <= x12)\r\n\r\n    /**\r\n     * Clears all the bullets that are either outside of the screen or have damaged a ship\r\n     * @param bullets \r\n     * @returns \r\n     */\r\n    static cleanBullets(bullets: Array<Bullet>, playgroundHeight: number) {\r\n        // Erase bullets out of screen\r\n        return bullets.filter(b => b.posY <= playgroundHeight && b.posY + b.size >= 0 && b.dmg > 0)\r\n    }\r\n\r\n    /**\r\n     * Clears all enemy ships that are either out of the screen or have 0 health points\r\n     * @param enemies \r\n     * @returns \r\n     */\r\n    static cleanEnemies(enemies: Array<Ship>, playgroundHeight: number) {\r\n        const count = enemies.filter(e => e.posY + e.size > playgroundHeight).length;\r\n        return { enemies: enemies.filter(e => e.posY + e.size <= playgroundHeight && e.health > 0), count };\r\n    }\r\n\r\n    /**\r\n     * Decides whether an enemy is able or not to shoot at the player\r\n     * @param i \r\n     * @param enemies \r\n     * @returns \r\n     */\r\n    static isAbleToShoot(i: number, enemies: Ship[], player: Ship) {\r\n        if (i >= enemies.length) return false;\r\n        const enemy = enemies[i];\r\n        const intrr = enemies.filter((v, index) => index !== i).find(e => GL.collX(enemy.posX, enemy.posX + enemy.size, e.posX, e.posX + e.size) && enemy.posY < e.posY + e.size);\r\n        return !intrr && GL.collX(enemy.posX, enemy.posX + enemy.size, player.posX - player.speed, player.posX + player.size + player.speed);\r\n    }\r\n\r\n    static shootShields(i: number, enemies: Ship[], shields: Shield[]) {\r\n        if (i >= enemies.length) return false;\r\n        const enemy = enemies[i];\r\n        const intrr = enemies.filter((v, index) => index !== i).find(e => GL.collX(enemy.posX, enemy.posX + enemy.size, e.posX, e.posX + e.size) && enemy.posY < e.posY + e.size);\r\n        return !intrr && shields.some(s => s._shieldLayout.some(r => r.some(b => (GL.collX(enemy.posX, enemy.posX + enemy.size, b.x0, b.x1)))));\r\n    }\r\n\r\n}","import { Bullet } from \"../../components/game_objects/bullet/bullet\";\r\nimport { Shield } from \"../../components/game_objects/shield/shield\";\r\nimport { Ship } from \"../../components/game_objects/ship/ship\";\r\n\r\nexport class CM {\r\n    /**\r\n     * Cleans the canvas so a new frame can be rendered\r\n     */\r\n    static clean(ctx: CanvasRenderingContext2D, playgroundWidth: number, playgroundHeight: number) {\r\n        ctx.clearRect(0, 0, playgroundWidth, playgroundHeight);\r\n        ctx.beginPath()\r\n        ctx.rect(0, 0, playgroundWidth, playgroundHeight)\r\n        ctx.fillStyle = '#000';\r\n        ctx.fill()\r\n        ctx.closePath()\r\n    }\r\n\r\n    /**\r\n     * Draws a new frame\r\n     * @param bullets bullets on screen\r\n     * @param enemies enemies on screen\r\n     */\r\n    static draw(bullets: Bullet[], ships: Ship[], ctx: CanvasRenderingContext2D, shields: Shield[]) {\r\n        ships.forEach(s => s?.drawShip(ctx));\r\n        bullets.forEach(b => b?.draw(ctx));\r\n        shields.forEach(s => s.drawShield(ctx));\r\n    }\r\n}","import { GL } from \"../../../utils/logic/game_logic\";\r\nimport { Bullet } from \"../bullet/bullet\";\r\ninterface Box2D {\r\n    x0: number,\r\n    y0: number,\r\n    x1: number,\r\n    y1: number\r\n}\r\n/**\r\n * A weak shield that only supports one hit\r\n */\r\nexport class Shield {\r\n    _shieldLayout: Box2D[][] = []\r\n    constructor(\r\n        public parts: number, // increased number of parts increses detail, one part\r\n        // means only one block\r\n        public x: number,\r\n        public y: number,\r\n        public width: number,\r\n        public height: number,\r\n\r\n    ) {\r\n        this.buildShieldLayout()\r\n    }\r\n\r\n    private buildShieldLayout() {\r\n        this.calculateLayout(this.parts)\r\n        this.extrudeBoxes()\r\n    }\r\n\r\n    private calculateLayout(n: number) {\r\n        if (n === 1) {\r\n            this._shieldLayout.push([{ x0: this.x, x1: this.x + this.width, y0: this.y, y1: 0 }]); // y1 needs to be filled later\r\n            return;\r\n        } else if (n === 2) {\r\n            // build a 1x2 matrix\r\n            const box1: Box2D = { x0: this.x, x1: Math.floor(this.x + this.width / 2), y0: this.y, y1: 0 };\r\n            const box2: Box2D = { x0: box1.x1, x1: Math.floor(box1.x1 + this.width / 2), y0: this.y, y1: 0 };\r\n            this._shieldLayout.push([box1, box2]);\r\n            return;\r\n        } else if (n === 3) {\r\n            // build a 1x3 matrix\r\n            const box1: Box2D = { x0: this.x, x1: Math.floor(this.x + this.width / 3), y0: this.y, y1: 0 };\r\n            const box2: Box2D = { x0: box1.x1, x1: Math.floor(box1.x1 + this.width / 3), y0: this.y, y1: 0 };\r\n            const box3: Box2D = { x0: box2.x1, x1: Math.floor(box2.x1 + this.width / 3), y0: this.y, y1: 0 };\r\n            this._shieldLayout.push([box1, box2, box3]);\r\n            return;\r\n        } else {\r\n            const sqrt = Math.sqrt(n);\r\n            if (Number.isInteger(sqrt)) {\r\n                for (let i = 0; i < sqrt; i++)\r\n                    this.calculateLayout(sqrt);\r\n                return;\r\n            }\r\n            let n2 = Number.parseInt(`${n}`);\r\n            let isInt, sqrt2;\r\n            do {\r\n                sqrt2 = Math.sqrt(n2);\r\n                isInt = Number.isInteger(sqrt2);\r\n                !isInt && n2--;\r\n            } while (!isInt);\r\n            this.calculateLayout(sqrt2);\r\n            this.calculateLayout(n - n2);\r\n        }\r\n\r\n    }\r\n\r\n    private extrudeBoxes() {\r\n        const h = Math.floor(this.height / this._shieldLayout.length);\r\n        this._shieldLayout.forEach((e, i) => {\r\n            const li = this._shieldLayout[i - 1];\r\n            let li1 = li ? li[0] : undefined;\r\n            e.forEach(i => {\r\n                i.y0 = (li1?.y1 ?? i.y0);\r\n                i.y1 = (li1?.y1 ?? i.y0) + h;\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Draws a shield on the field\r\n     * @param ctx \r\n     */\r\n    drawShield(ctx: CanvasRenderingContext2D) {\r\n        this._shieldLayout.forEach(r => {\r\n            r.forEach(c => {\r\n                ctx.beginPath();\r\n                ctx.rect(c.x0, c.y0, c.x1 - c.x0, c.y1 - c.y0);\r\n                ctx.fillStyle = '#5f7';\r\n                ctx.fill();\r\n                ctx.closePath();\r\n            })\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Checks if a bullet collides with the shield, reducing its health\r\n     * @param bullet \r\n     */\r\n    checkCollision(bullet: Bullet) {\r\n        for (let r of this._shieldLayout) {\r\n            const index = r.findIndex(block => GL.collX(block.x0, block.x1, bullet.posX, bullet.posX + bullet.size) &&\r\n                GL.collX(block.y0, block.y1, bullet.posY, bullet.posY + bullet.size));\r\n            if (index >= 0) {\r\n                const el = r.slice()[index];\r\n                r.splice(index, 1);\r\n                return el;\r\n            }\r\n        }\r\n    }\r\n\r\n}","import styled, { keyframes  } from 'styled-components';\r\nconst fadeIn = keyframes`\r\n    0% { opacity:0; transform: translateY(20px); }\r\n    100% { opacity:1; transform: translateY(0);}\r\n`;\r\n\r\nconst StyledWrapper = styled.div`\r\n  animation: ${fadeIn} 1s;\r\n  height: inherit;\r\n  width:  inherit;\r\n  display: inherit;\r\n  flex: inherit;\r\n  flex-direction: inherit;\r\n  align-items: inherit;\r\n  justify-content: inherit;\r\n`;\r\n\r\nconst Wrapper = ({ children }: any) => {\r\n    return <StyledWrapper>{children}</StyledWrapper>;\r\n};\r\n\r\nexport default Wrapper;","import React from 'react';\r\nimport './game_board.css';\r\nimport { Ship } from '../ship/ship';\r\nimport { Bullet } from '../bullet/bullet';\r\nimport { GL } from '../../../utils/logic/game_logic';\r\nimport { CM } from '../../../utils/logic/canvas_management';\r\nimport { Shield } from '../shield/shield';\r\nimport Transition from '../../animations/transition';\r\nimport * as game_settings from '../../../utils/configs/game_settings.json';\r\nimport { Redirect } from 'react-router';\r\n\r\ninterface GameState {\r\n    wave: number,\r\n    enemyLimit: number,\r\n    score: number,\r\n    maxScore: number,\r\n    hit: boolean,\r\n    playerLives: number,\r\n    hasLost: boolean,\r\n    loopId: any,\r\n    shieldsDeployed: boolean\r\n}\r\n\r\ninterface GameProps {\r\n\r\n}\r\n\r\nclass GameBoard extends React.Component<GameProps, GameState>{\r\n\r\n    /**\r\n     * Array of generators to populate screen with different patterns of enemies\r\n     */\r\n    enemyGen: Array<Generator> = [];\r\n    /**\r\n     * Activated when right arrow is pressed or device is tilted to the east\r\n     */\r\n    isMovinRight: boolean = false;\r\n    /**\r\n     * Activated when left arrow is pressed or device is tilted to the west\r\n     */\r\n    isMovinLeft: boolean = false;\r\n    /**\r\n     * Activated when up arrow is pressed or a touch is detected on device screen\r\n     */\r\n    isShooting: boolean = false;\r\n    /**\r\n     * Index of the current enemy generator working\r\n     */\r\n    generatorRunning: number = 0;\r\n    /**\r\n     * Populated with the enemy ships that had shot, to prevent multi shots from the same enemy\r\n     * while keeping the number of bullets to a certain limit\r\n     */\r\n    enemiesShot: number[] = [];\r\n\r\n    readonly BULLET_SPEED: number = 5;\r\n    readonly BULLET_DMG: number = 100;\r\n    readonly ENEMY_HP: number = 100;\r\n    readonly ENEMY_SPEED: number = 0.1;\r\n    readonly PLAYER_SPEED: number = 2;\r\n    readonly VERTICAL_OFFSET: number = 5;\r\n    readonly ENEMY_SHOT_INTERVAL: number = 1000;\r\n    readonly ENEMY_SPEED_BOOST_INTERVAL: number = 10000;\r\n    readonly LIMIT_OF_ENEMY_SHIPS_ON_SCREEN: number = 100;\r\n    readonly PLAYER_SIZE = 32;\r\n\r\n    /**\r\n     * Object representing the player on the screen\r\n     */\r\n    player: Ship = new Ship();\r\n    /**\r\n     * Array of bullets on the screen, filled when player or enemy fires\r\n     */\r\n    bullets: Bullet[] = [];\r\n    /**\r\n     * List of enemies created by the enemy generator array\r\n     */\r\n    enemies: Ship[] = [];\r\n    /**\r\n     * Reference to the canvas in which the game is drawn\r\n     */\r\n    btfld: HTMLCanvasElement;\r\n    /**\r\n     * Context to create 2d graphics\r\n     */\r\n    ctx: CanvasRenderingContext2D;\r\n    /**\r\n     * Timeout to prevent the player from spaming bullets\r\n     */\r\n    nextShotIn: number;\r\n    /**\r\n     * Timeout to prevent the enemy from spaming bullets\r\n     */\r\n    nextEnemyShotIn: number;\r\n    /**\r\n     * Timeout to increase the enemy speed\r\n     * @param props \r\n     */\r\n    nextSpeedBoostIn: number;\r\n\r\n    shields: Shield[] = [];\r\n    playgroundHeight: number;\r\n    playgroundWidth: number;\r\n    frameRate: number;\r\n    shotTimeOut: number;\r\n\r\n\r\n    constructor(props: GameProps) {\r\n        super(props);\r\n        this.nextShotIn = 0\r\n        this.nextEnemyShotIn = 0\r\n        this.nextSpeedBoostIn = this.ENEMY_SPEED_BOOST_INTERVAL\r\n        this.state = {\r\n            hit: false,\r\n            wave: 1,\r\n            enemyLimit: this.LIMIT_OF_ENEMY_SHIPS_ON_SCREEN,\r\n            maxScore: 0,\r\n            score: 0,\r\n            playerLives: 3,\r\n            hasLost: false,\r\n            loopId: 0,\r\n            shieldsDeployed: false\r\n        }\r\n        this.playgroundHeight = window.innerHeight;\r\n        this.playgroundWidth = window.innerWidth < 420 ? window.innerWidth : 420;\r\n        this.frameRate = game_settings[\"frame_rate\"];\r\n        this.shotTimeOut = game_settings[\"shot_timeout\"];\r\n        this.btfld = document.getElementById('battleField') as HTMLCanvasElement\r\n        this.ctx = this.btfld?.getContext('2d') as CanvasRenderingContext2D\r\n        this.handleKeyDown = this.handleKeyDown.bind(this)\r\n        this.handleKeyUp = this.handleKeyUp.bind(this)\r\n        this.handleAccelerometer = this.handleAccelerometer.bind(this)\r\n        this.handleTapDown = this.handleTapDown.bind(this)\r\n        this.handleTapUp = this.handleTapUp.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.initalizeVars()\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n        window.addEventListener('keyup', this.handleKeyUp)\r\n        window.addEventListener('devicemotion', this.handleAccelerometer);\r\n        window.addEventListener('touchstart', this.handleTapDown);\r\n        window.addEventListener('touchend', this.handleTapUp);\r\n        this.btfld = document.getElementById('battleField') as HTMLCanvasElement\r\n        this.ctx = this.btfld?.getContext('2d') as CanvasRenderingContext2D\r\n        this.ctx.scale(1, 1)\r\n        this.initGame()\r\n    }\r\n\r\n    /**\r\n     * Locates the player at an initial position within the canvas,\r\n     * also prepares the enemy generators\r\n     */\r\n    initalizeVars() {\r\n        const initialXPos = this.playgroundWidth / 2 - this.PLAYER_SIZE / 2; // minus half the ship width\r\n        const initialYPos = this.playgroundHeight - this.PLAYER_SIZE; // minus the ship height\r\n        this.player = new Ship('#00ff00', initialXPos, initialYPos, 32, 'player', 100, 1)\r\n        this.bullets = Array(0);\r\n        this.enemies = Array(0);\r\n        this.enemyGen = Array(0);\r\n        this.generatorRunning = 0;\r\n        if (!this.state.shieldsDeployed) {\r\n            this.shields = Array(0);\r\n            const maxShieldWidth = Math.floor(this.playgroundWidth / 6);\r\n            const numberOfShields = 3;\r\n            const spacing = Math.floor((this.playgroundWidth - numberOfShields * (maxShieldWidth)) / numberOfShields / 2);\r\n            let posx = 0;\r\n            for (let i = 0; i < numberOfShields; i++) {\r\n                posx += spacing;\r\n                this.shields.push(new Shield(9, posx, Math.floor(this.playgroundHeight / 2) + maxShieldWidth + this.player.size, maxShieldWidth, maxShieldWidth))\r\n                posx += spacing + maxShieldWidth;\r\n            }\r\n            this.setState({ shieldsDeployed: true })\r\n        }\r\n        this.isMovinLeft = false;\r\n        this.isMovinRight = false;\r\n        this.isShooting = false;\r\n        this.enemyGen.push(this.buildShip(this.PLAYER_SIZE, 4 * (Math.floor(this.playgroundWidth / (this.PLAYER_SIZE + 10)) - 1), 'r', 35));\r\n    }\r\n\r\n    /**\r\n     * Called when the player presses a key (COMPUTER ONLY)\r\n     * @param ev KeyboardEvent\r\n     */\r\n    handleKeyDown(ev: KeyboardEvent) {\r\n        switch (ev.key) {\r\n            case 'ArrowRight':\r\n                this.isMovinLeft = false\r\n                this.isMovinRight = true\r\n                break;\r\n            case 'ArrowLeft':\r\n                this.isMovinLeft = true\r\n                this.isMovinRight = false\r\n                break;\r\n            case 'ArrowUp':\r\n                this.isShooting = true;\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when the player stops pressing a key (COMPUTER ONLY)\r\n     * @param ev \r\n     */\r\n    handleKeyUp(ev: KeyboardEvent) {\r\n        switch (ev.key) {\r\n            case 'ArrowRight':\r\n                this.isMovinRight = false\r\n                break;\r\n            case 'ArrowLeft':\r\n                this.isMovinLeft = false\r\n                break;\r\n            case 'ArrowUp':\r\n                this.isShooting = false\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Keeps track of the device acceleration on the x axis to move the ship left or right\r\n     * @param ev \r\n     * @returns void, prevents of running unnecessary code if no accelerometer x value is found\r\n     */\r\n    handleAccelerometer(ev: DeviceMotionEvent) {\r\n        const el = document.getElementById('debug')\r\n        if (el) {\r\n            el.innerHTML = `x: ${ev.accelerationIncludingGravity?.x} y:${ev.accelerationIncludingGravity?.y} z:${ev.accelerationIncludingGravity?.z}`\r\n        }\r\n        const x = ev.accelerationIncludingGravity?.x\r\n        if (!x) return\r\n        if (x > 0) {\r\n            this.isMovinLeft = true;\r\n            this.isMovinRight = false;\r\n        } else if (x < 0) {\r\n            this.isMovinRight = true;\r\n            this.isMovinLeft = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * When the player stops tapping on the screen, the player ship stops shooting\r\n     * @param ev \r\n     */\r\n    handleTapUp(ev: TouchEvent) { this.isShooting = false }\r\n\r\n    /**\r\n     * When the player starts tapping on the screen, the player ship starts shooting\r\n     * @param ev \r\n     */\r\n    handleTapDown(ev: TouchEvent) { this.isShooting = true }\r\n\r\n    /**\r\n     * Starts the game loop, performing drawing and collision detection calculations\r\n     */\r\n    initGame() {\r\n        const ex = () => {\r\n            const loopId = setInterval(() => {\r\n                CM.clean(this.ctx, this.playgroundWidth, this.playgroundHeight)\r\n                if (this.nextSpeedBoostIn === 0) {\r\n                    this.enemies.forEach(s => s.speed += 0.05)\r\n                    this.nextSpeedBoostIn = this.ENEMY_SPEED_BOOST_INTERVAL\r\n                    setTimeout(() => this.nextSpeedBoostIn = 0, this.ENEMY_SPEED_BOOST_INTERVAL)\r\n                }\r\n                const { posX, posY, size } = this.player\r\n                this.isShooting && this.bullets.push(...this.generateBullets(posX + size / 2, posY - size))\r\n                // const e = this.enemies.length < this.state.enemyLimit ? this.generateEnemies() : this.enemies\r\n                const e = this.enemies\r\n                const { bullets, enemies } = this.moveEls(e);\r\n                CM.draw(bullets, [...enemies, this.player], this.ctx, this.shields);\r\n                this.bullets = bullets\r\n                this.enemies = enemies\r\n            }, 1000 / this.frameRate);\r\n            this.setState({ loopId }) // So it can stop\r\n        }\r\n        const prep = () => setTimeout(() => {\r\n            const n = this.enemyGen[0].next()\r\n            if (!n.done) {\r\n                CM.clean(this.ctx, this.playgroundWidth, this.playgroundHeight)\r\n                this.enemies.push(n.value as Ship)\r\n                CM.draw(this.bullets, [...this.enemies, this.player], this.ctx, this.shields)\r\n                prep()\r\n            } else {\r\n                setTimeout(() => this.nextSpeedBoostIn = 0, this.ENEMY_SPEED_BOOST_INTERVAL)\r\n                ex()\r\n            }\r\n        }, 100)\r\n\r\n        prep()\r\n\r\n    }\r\n\r\n    moveEls(e: Array<Ship>) {\r\n        const bullets = this.bullets.slice();\r\n        const enemies = this.enemies.slice();\r\n\r\n\r\n        if (!enemies.length) {\r\n            clearInterval(this.state.loopId);\r\n            CM.clean(this.ctx, this.playgroundWidth, this.playgroundHeight);\r\n            this.setState({ wave: this.state.wave + 1 });\r\n            this.initalizeVars();\r\n            this.initGame();\r\n            return { bullets: [], enemies: [] };\r\n        }\r\n        // Player Position\r\n        // const newCount = state.nextShotIn > 0 ? state.nextShotIn - 1 : 0\r\n        let nextPos = this.player.posX;\r\n        if (this.isMovinLeft && nextPos - 1 > 0) { // dont exit playground from the left\r\n            nextPos -= this.PLAYER_SPEED; // move 1 unit to the left\r\n        } else if (this.isMovinRight && nextPos + 1 + this.player.size < this.playgroundWidth) { // dont exit playground from the right\r\n            nextPos += this.PLAYER_SPEED; // move 1 unit to the right\r\n        }\r\n        this.player.posX = nextPos;\r\n        bullets.filter(b => b.dir === 'down').length === 0 && this.enemiesShot.splice(0);\r\n        //#region swarm movement\r\n        const moveDown = enemies.every(s => s.dir === 'r') ? enemies.some(s => s.posX + s.size >= this.playgroundWidth) : enemies.some(s => s.posX <= 0)\r\n        if (moveDown) {\r\n            const canMoveDown = enemies.every(e => this.shields.every(s => s._shieldLayout.every(r => r.every(c => e.posY + e.size < c.y0 - e.size))))\r\n            if (canMoveDown) {\r\n                enemies.forEach(s => { s.posY += 5 + this.VERTICAL_OFFSET; s.dir = s.dir === 'r' ? 'l' : 'r' });\r\n            } else {\r\n                enemies.forEach((ship, i) => {\r\n                    if (this.nextEnemyShotIn === 0 && GL.shootShields(i, enemies, this.shields) && !this.enemiesShot.includes(i)) {\r\n                        bullets.push(...this.generateBullets(ship.posX + ship.size / 2, ship.posY + ship.size, 'down', true));\r\n                        this.enemiesShot.push(i);\r\n                        this.nextEnemyShotIn = this.ENEMY_SHOT_INTERVAL;\r\n                        setTimeout(() => this.nextEnemyShotIn = 0, this.ENEMY_SHOT_INTERVAL);\r\n                    }\r\n                    ship.dir = ship.dir === 'r' ? 'l' : 'r';\r\n                })\r\n            }\r\n        } else {\r\n            enemies.forEach(s => s.posX += s.dir === 'r' ? s.speed : -s.speed);\r\n        }\r\n        const shipI = enemies.findIndex((s, i) => GL.isAbleToShoot(i, enemies, this.player) && !this.enemiesShot.includes(i));\r\n        if (shipI >= 0 && this.nextEnemyShotIn === 0) {\r\n            const ship = enemies[shipI];\r\n            bullets.push(...this.generateBullets(ship.posX + ship.size / 2, ship.posY + ship.size, 'down', true));\r\n            this.enemiesShot.push(shipI);\r\n            this.nextEnemyShotIn = this.ENEMY_SHOT_INTERVAL;\r\n            setTimeout(() => this.nextEnemyShotIn = 0, this.ENEMY_SHOT_INTERVAL);\r\n        }\r\n        //#endregion\r\n\r\n        // Move bullets - before moving bullet check if it collides and move the corresponding space to avoid\r\n        // detecting collisions after they happened\r\n        bullets.forEach(b => {\r\n            const maxTravel = this.checkBulletCollision(b, enemies, this.player, this.shields);\r\n            if (b.dir === 'up') {\r\n                b.posY -= maxTravel ?? b.vel;\r\n            } else if (b.dir === 'down') {\r\n                b.posY += maxTravel ?? b.vel;\r\n            }\r\n        })\r\n        let cenemiesRes = GL.cleanEnemies(enemies, this.playgroundHeight);\r\n        if (cenemiesRes.count) this.setState({ playerLives: this.state.playerLives - 1 });\r\n        return { bullets: GL.cleanBullets(bullets, this.playgroundHeight), enemies: cenemiesRes.enemies };\r\n    }\r\n\r\n    checkBulletCollision(b: Bullet, enemies: Array<Ship>, player: Ship, shields: Shield[]) {\r\n        for (let s of shields) {\r\n            const block = s.checkCollision(b);\r\n            if (block) {\r\n                b.dmg = 0;\r\n                // calculate distance that can be travelled before hitting the target\r\n                const d = b.posY - block.y1;\r\n                return d >= 0 ? d : 0;\r\n            }\r\n        }\r\n        if (b.dir === 'up') { // bullets against enemies                \r\n            const index = enemies.findIndex(e => GL.collX(e.posX, e.posX + e.size, b.posX, b.posX + b.size)\r\n                && GL.collY(e.posY, e.posY + e.size, b.posY + b.vel, b.posY + b.size + b.vel,));// check Y collision with the speed\r\n            if (index >= 0) {\r\n                const enemy = Object.assign({}, enemies[index]) as Ship;\r\n                enemy.health -= b.dmg;\r\n                if (enemy.health <= enemies[index].health / 2) {\r\n                    enemy.color = '#ff3333';\r\n                }\r\n                if (enemy.health <= 0) {\r\n                    this.setState({ score: this.state.score + (enemy.points ?? 0) });\r\n                }\r\n                enemies[index] = new Ship(enemy.color, enemy.posX, enemy.posY, enemy.size, enemy.type, enemy.health, enemy.speed, enemy.points, enemy.dir);\r\n                b.dmg = 0;\r\n                // calculate distance that can be travelled before hitting the target\r\n                const d = b.posY - enemy.posY + enemy.size;\r\n                return d >= 0 ? d : 0;\r\n            }\r\n        } else { // bullets agains player\r\n            if (GL.collX(player.posX, player.posX + player.size, b.posX, b.posX + b.size) && GL.collY(player.posY, player.posY + player.size, b.posY, b.posY + b.size)) {\r\n                let playerLives = this.state.playerLives;\r\n                let hasLost = !--playerLives ? true : false;\r\n                setTimeout(() => this.setState({ hit: false }), 200)\r\n                hasLost && clearInterval(this.state.loopId);\r\n                this.setState({ playerLives, hasLost, hit: true });\r\n                b.dmg = 0;\r\n                const d = player.posY - b.posY;\r\n                return d >= 0 ? d : 0;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Returns a new bullet to be drawn on the screen, if hte bullet is shot by the player\r\n     * a time limitation is set to prevent bullet spaming\r\n     * @param fatherx Where to draw the bullet on the x axis\r\n     * @param fathery Where to draw the bullet on the y axis\r\n     * @param dir Indicates the direction that the bullets travels (up or down)\r\n     * @param isEnemy Indicates if the bullet is fired by an enemy\r\n     * @returns \r\n     */\r\n    generateBullets(fatherx: number, fathery: number, dir?: string, isEnemy?: boolean) {\r\n        if (this.nextShotIn !== 0 && !isEnemy) return [];\r\n        const size = 10\r\n        !isEnemy && setTimeout(() => this.nextShotIn = 0, this.shotTimeOut);\r\n        !isEnemy && (this.nextShotIn = this.shotTimeOut)\r\n        return [new Bullet('#ff0000', dir ?? 'up', this.BULLET_SPEED, fatherx - size / 2, fathery, size, this.BULLET_DMG)]\r\n    }\r\n\r\n    /**\r\n     * Uses one of the generators set to build enemies and returns a new enemy ship to be drawn\r\n     * @returns \r\n     */\r\n    generateEnemies() {\r\n        const enemies = this.enemies.slice() // Enemy array copy\r\n        const last_gen_enemy = enemies[enemies.length - 1]\r\n        if ((last_gen_enemy && last_gen_enemy.posX > 0 && last_gen_enemy.posX + last_gen_enemy.size < this.playgroundWidth)\r\n            || !last_gen_enemy) {\r\n\r\n            const gen = this.enemyGen[this.generatorRunning].next() // Enemy Generator\r\n            if (!gen.done) {\r\n                enemies.push(gen.value as Ship)\r\n            }\r\n            this.generatorRunning = this.generatorRunning + 1 < this.enemyGen.length ? this.generatorRunning + 1 : 0\r\n\r\n        }\r\n        return enemies\r\n    }\r\n\r\n    /**\r\n     * Generator that builds a series of enemy ships\r\n     * @param size the size (WxH) of the sprites to generate\r\n     * @param limit the amount of enemies to generate\r\n     * @param dir the direction that the enemies will move\r\n     * @param posY the y axis where the enemies will start moving\r\n     */\r\n    * buildShip(size: number, limit: number, dir: string, posY: number): Generator<Ship> {\r\n        const enemiesPerRow = Math.floor(this.playgroundWidth / (size + 10)) - 1\r\n        const spacing = Math.floor((this.playgroundWidth - enemiesPerRow * (size + 10)) / enemiesPerRow / 2)\r\n        let posYNewRow = posY\r\n        let posXNewShip = 0\r\n        const xoffset = posXNewShip\r\n        for (let i = 0, j = 0; i < limit; i++, j++) {\r\n            if (j === enemiesPerRow) {\r\n                posYNewRow += size + this.VERTICAL_OFFSET\r\n                posXNewShip = xoffset as number\r\n                j = 0\r\n            }\r\n            posXNewShip += 5 + spacing// left Margin\r\n            let enemy: Ship = new Ship('#ffffff', posXNewShip, posYNewRow, size, 'enemy', this.ENEMY_HP, this.ENEMY_SPEED, 500, dir,)\r\n            posXNewShip += size + 5 + spacing// right Margin\r\n            yield enemy\r\n        }\r\n    }\r\n    recordScore() {\r\n        const hs = localStorage.getItem('highScore');\r\n        if (!hs) {\r\n            localStorage.setItem('highScore', this.state.score.toString());\r\n        } else {\r\n            let nhs = +hs < this.state.score ? this.state.score : +hs;\r\n            localStorage.setItem('highScore', nhs.toString());\r\n            localStorage.setItem('matchScore', this.state.score.toString());\r\n        }\r\n    }\r\n    render() {\r\n        if (this.state.hasLost) {\r\n            this.recordScore();\r\n            return (\r\n                <Redirect to=\"/score\" />\r\n            )\r\n        }\r\n        return (\r\n            <Transition>\r\n                <div style={{ position: 'relative', width: this.playgroundWidth, height: this.playgroundHeight }} className={'gameboard ' + (this.state.hit ? 'shakingScreen' : '')}>\r\n                    <canvas id=\"battleField\" width={this.playgroundWidth} height={this.playgroundHeight}></canvas>\r\n                    <div className='GameStatus'>\r\n                        <div>Lives: {this.state.playerLives}</div>\r\n                        <div>Wave: {this.state.wave}</div>\r\n                        <div>Score: {this.state.score}</div>\r\n                    </div>\r\n                    {this.state.hit && <div className='shotAlert' style={{ width: this.playgroundWidth + 20, height: this.playgroundHeight }}></div>}\r\n                    {/* <div id=\"debug\" style={{ color: 'red', position: 'absolute', top: 0, left: 0, zIndex: 2 }}></div> */}\r\n                </div>\r\n            </Transition>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default GameBoard;","import styled from 'styled-components';\r\n\r\nconst MenuScreen = styled.div`\r\n    height:100%;\r\n    width: 100%;\r\n    max-width:310px;\r\n    display:flex;\r\n    flex-direction:column;\r\n    align-items:center;\r\n    justify-content:center;\r\n    background-color: black;\r\n`;\r\n\r\nconst MenuItemList = styled.div`\r\n    display:inherit;\r\n    flex-direction:inherit;\r\n    align-items:inherit;\r\n    justify-content:inherit;\r\n    width: 100%;\r\n    height: 50%;\r\n`;\r\n\r\nconst MenuItem = styled.div`\r\n    width: 70%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 4px 16px 4px 16px;\r\n    border: 1px solid white;\r\n    color: white;\r\n    margin: 10px 0;\r\n    border-radius: 5px;\r\n    text-decoration: none;\r\n    font-size: 1.5rem;\r\n    transition: 0.25s;\r\n    position: relative;\r\n    cursor: pointer;\r\n    label, span{\r\n        transition: 0.25s;\r\n        cursor: pointer;\r\n    } \r\n    span{\r\n        margin-left: 0.1em;\r\n    }\r\n    :hover{\r\n        box-shadow: inset 254px 0 0 0 white;\r\n        color: black;\r\n    }\r\n    :hover span{\r\n        margin-left: 0.3em;\r\n        transform: rotate(15deg);\r\n    }\r\n`;\r\n\r\nconst MenuItemContent = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 80%;\r\n    max-width: 100px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst Title = styled.div`\r\n    width:90%;\r\n    font-size:3em;\r\n    color:white;\r\n    text-align: center;\r\n    cursor: default;\r\n`;\r\n\r\nconst SubTitle = styled.div`\r\n    width:90%;\r\n    font-size:1.5em;\r\n    color:white;\r\n    text-align: center;\r\n    cursor: default;\r\n`;\r\n\r\nexport { MenuScreen, MenuItemList, Title, MenuItemContent, MenuItem, SubTitle };","import Transition from '../../animations/transition';\r\nimport React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { MenuItemList, MenuScreen, Title, MenuItemContent, MenuItem } from '../../styled_components/menu_styled_components'\r\n\r\ninterface MenuState {\r\n    redirectTo: string | null\r\n}\r\n\r\nclass Menu extends React.Component<{}, MenuState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            redirectTo: null\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirectTo) {\r\n            return (\r\n                <Redirect to={this.state.redirectTo}></Redirect>\r\n            );\r\n        }\r\n        return (\r\n            <Transition>\r\n                <MenuScreen>\r\n                    <Title>REACT INVADERS</Title>\r\n                    <MenuItemList>\r\n                        <MenuItem onClick={() => this.redirectTo('/game')}>\r\n                            <MenuItemContent>\r\n                                <label>Play</label>\r\n                                <span className=\"material-icons\">videogame_asset</span>\r\n                            </MenuItemContent>\r\n                        </MenuItem>\r\n                        <MenuItem onClick={() => this.redirectTo('/about')}>\r\n                            <MenuItemContent>\r\n                                <label>About</label>\r\n                                <span className=\"material-icons\">info</span>\r\n                            </MenuItemContent>\r\n                        </MenuItem>\r\n                        {/* <MenuItem onClick={() => this.redirectTo('/')}>\r\n                            <MenuItemContent>\r\n                                <label>Save</label>\r\n                                <span className=\"material-icons\">get_app</span>\r\n                            </MenuItemContent>\r\n                        </MenuItem> */}\r\n                    </MenuItemList>\r\n                </MenuScreen>\r\n            </Transition>\r\n        )\r\n    };\r\n\r\n    redirectTo = (path: string) => this.setState({ redirectTo: path });\r\n}\r\n\r\nexport default Menu;","import React from \"react\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Switch,\r\n    NavLink,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\nimport Transition from '../../animations/transition';\r\nimport { MenuItemList, MenuScreen, Title, MenuItemContent, MenuItem, SubTitle } from '../../styled_components/menu_styled_components'\r\ninterface MenuState {\r\n    redirectTo: string | null\r\n}\r\nclass Score extends React.Component<{}, MenuState> {\r\n    hs: number;\r\n    ms: number;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            redirectTo: null\r\n        }\r\n        this.hs = +(localStorage.getItem('highScore') ?? '0');\r\n        this.ms = +(localStorage.getItem('matchScore') ?? '0');\r\n        console.log(this.hs, this.ms, (this.ms > this.hs))\r\n    }\r\n    render() {\r\n        if (this.state.redirectTo) {\r\n            return (<Redirect to={this.state.redirectTo} />);\r\n        }\r\n        return (\r\n            <Transition>\r\n                <MenuScreen>\r\n                    <Title>YOU LOST</Title>\r\n                    <SubTitle>{(this.ms === this.hs) ? 'New High Score' : 'Score'}: {this.ms}</SubTitle>\r\n                    <SubTitle>High Score: {this.hs}</SubTitle>\r\n                    <MenuItemList>\r\n                        <MenuItem onClick={() => this.redirectTo('/game')}>\r\n                            <MenuItemContent >\r\n                                <label>Retry</label>\r\n                                <span className=\"material-icons\">videogame_asset</span>\r\n                            </MenuItemContent>\r\n                        </MenuItem>\r\n                        <MenuItem onClick={() => this.redirectTo('/menu')}>\r\n                            <MenuItemContent >\r\n                                <label>Menu</label>\r\n                                <span className=\"material-icons\">chevron_left</span>\r\n                            </MenuItemContent>\r\n                        </MenuItem>\r\n                    </MenuItemList>\r\n                </MenuScreen>\r\n            </Transition>\r\n        );\r\n    }\r\n\r\n    redirectTo = (path: string) => this.setState({ redirectTo: path });\r\n}\r\nexport default Score;","import {\r\n    Route,\r\n    Switch,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\nimport GameBoard from \"../game_objects/game_board/game_board\";\r\nimport Menu from '../pages/menu/menu';\r\nimport Score from '../pages/score/score';\r\n\r\nconst Routes = () =>\r\n    <Switch>\r\n        <Route exact path=\"/\">\r\n            <Redirect to=\"/menu\" />\r\n        </Route>\r\n        <Route path=\"/menu\" component={Menu} />\r\n        <Route path=\"/game\" component={GameBoard} />\r\n        <Route path=\"/score\" component={Score} />\r\n        <Route path=\"/about\" />\r\n    </Switch>\r\n\r\nexport default Routes;","\nimport './App.css';\nimport Routes from './components/routes/routes';\nimport { HashRouter as Router } from \"react-router-dom\";\n// comandos para red hospedada\n// netsh wlan set hostednetwork mode=allow ssid=testsi key=12345678\n// netsh wlan start hostednetwork\n// ($env:HTTPS = \"true\") -and (npm start)\nfunction App() {\n  return (\n    <Router>\n      <div className=\"gamescreen\">\n        <Routes />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}